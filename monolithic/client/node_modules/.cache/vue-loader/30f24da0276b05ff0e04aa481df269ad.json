{"remainingRequest":"/home/muddasir/work/SDMHmi/sdm_hmi/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/muddasir/work/SDMHmi/sdm_hmi/client/src/components/ConveyorDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/muddasir/work/SDMHmi/sdm_hmi/client/src/components/ConveyorDetail.vue","mtime":1580830845099},{"path":"/home/muddasir/work/SDMHmi/sdm_hmi/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/muddasir/work/SDMHmi/sdm_hmi/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IG1hbmFnZXIgPSByZXF1aXJlKCIuLi9vcGN1YS1tYW5hZ2VyIik7CmltcG9ydCB7IGRpYWxvZ1BhcmFtZXRlciB9IGZyb20gIi4uL21haW4iOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgc3BlZWQ6IG51bGwsCiAgICAgIHVuaXQ6IG51bGwsCiAgICAgIHN0YXRlOiBudWxsLAogICAgICBzdGF0dXM6IG51bGwsCiAgICAgIHNldHBvaW50OiBudWxsLAogICAgICBkaXJlY3Rpb246IG51bGwsCiAgICAgIHNlbnNvckJsb2NrZWQ6IGZhbHNlLAogICAgICBzZW5zb3JDb2xvcjogZmFsc2UsCiAgICAgIGNvbnY6IG51bGwsCiAgICAgIG1hbmFnZXI6IG1hbmFnZXIKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBzcGVlZG9tZXRlcjogcmVxdWlyZSgiLi9TcGVlZG9tZXRlciIpLmRlZmF1bHQKICB9LAogIHByb3BzOiBbInBhcmFtIl0sCiAgbWV0aG9kczogewogICAgc2V0U2V0UG9pbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIHRoaXMubWFuYWdlci53cml0ZSh0aGlzLmNvbnYsICJzZXRwb2ludCIsIHRoaXMuc2V0cG9pbnQpOwogICAgfSwKICAgIHN0YXJ0U3RvcDogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgdGhpcy5tYW5hZ2VyLmNhbGwodGhpcy5jb252LCAic3RhcnRfc3RvcCIpOwogICAgfSwKICAgIGNoYW5nZURpcmVjdGlvbjogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgdGhpcy5tYW5hZ2VyLmNhbGwodGhpcy5jb252LCAiZndkX3JldiIpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLnBhcmFtKSB0aGlzLmNvbnYgPSB0aGlzLnBhcmFtOwogICAgZWxzZSB0aGlzLmNvbnYgPSBkaWFsb2dQYXJhbWV0ZXIuY29udjsKICAgIGNvbnNvbGUubG9nKCJjb252OiIsIHRoaXMuY29udik7CiAgICB0aGlzLm1hbmFnZXIuc3Vic2NyaWJlKGAke3RoaXMuY29udn0uX3N0YXR1c2AsIHRoaXMsIGZ1bmN0aW9uKAogICAgICBjb250ZXh0LAogICAgICB2YWx1ZQogICAgKSB7CiAgICAgIGNvbnRleHQuc3RhdHVzID0gdmFsdWU7CiAgICB9KTsKICAgIHRoaXMubWFuYWdlci5zdWJzY3JpYmUoYCR7dGhpcy5jb252fS5zdGF0ZWAsIHRoaXMsIGZ1bmN0aW9uKAogICAgICBjb250ZXh0LAogICAgICB2YWx1ZQogICAgKSB7CiAgICAgIGNvbnRleHQuc3RhdGUgPSB2YWx1ZTsKICAgIH0pOwogICAgLy8gdGhpcy5tYW5hZ2VyLnN1YnNjcmliZShgJHt0aGlzLmNvbnZ9LnNldHBvaW50YCwgdGhpcywgZnVuY3Rpb24oCiAgICAvLyAgIGNvbnRleHQsCiAgICAvLyAgIHZhbHVlCiAgICAvLyApIHsKICAgIC8vICAgY29udGV4dC5zZXRwb2ludCA9IHZhbHVlOwogICAgLy8gfSk7CiAgICB0aGlzLm1hbmFnZXIuc3Vic2NyaWJlKGAke3RoaXMuY29udn0udW5pdGAsIHRoaXMsIGZ1bmN0aW9uKGNvbnRleHQsIHZhbHVlKSB7CiAgICAgIGNvbnRleHQudW5pdCA9IHZhbHVlOwogICAgfSk7CiAgICB0aGlzLm1hbmFnZXIuc3Vic2NyaWJlKGAke3RoaXMuY29udn0uc3BlZWRgLCB0aGlzLCBmdW5jdGlvbigKICAgICAgY29udGV4dCwKICAgICAgdmFsdWUKICAgICkgewogICAgICBjb250ZXh0LnNwZWVkID0gdmFsdWU7CiAgICB9KTsKICAgIHRoaXMubWFuYWdlci5zdWJzY3JpYmUoYCR7dGhpcy5jb252fS5kaXJlY3Rpb25gLCB0aGlzLCBmdW5jdGlvbigKICAgICAgY29udGV4dCwKICAgICAgdmFsdWUKICAgICkgewogICAgICBjb250ZXh0LmRpcmVjdGlvbiA9IHZhbHVlOwogICAgfSk7CiAgfQp9Owo="},{"version":3,"sources":["ConveyorDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ConveyorDetail.vue","sourceRoot":"src/components","sourcesContent":["<template class=\"factory-item\">\n  <div>\n    <h2 class=\"container\">\n      <label>{{ conv }}</label>\n      <div\n        v-bind:style=\"sensorBlocked ? 'background-color:black' : ''\"\n        @click.stop=\"sensorBlocked = !sensorBlocked\"\n        class=\"sensor\"\n      ></div>\n      <div\n        v-bind:style=\"sensorColor ? 'background-color:yellow' : ''\"\n        @click.stop=\"sensorColor = !sensorColor\"\n        class=\"sensor\"\n        title=\"Color sensor\"\n      ></div>\n      <img\n        v-if=\"status !== 'online'\"\n        src=\"../../img/warning.svg\"\n        title=\"node is offline\"\n      />\n    </h2>\n\n    <div class=\"wrapper\">\n      <div class=\"speedo1\">\n        <speedometer\n          :maxValue=\"100\"\n          :value=\"speed\"\n        ></speedometer>\n      </div>\n      <div class=\"direction1\">\n        <button\n          @click.stop=\"changeDirection\"\n          v-if=\"direction==='FORWARD'\"\n          class=\"image-button\"\n          title=\"Direction\"\n        >\n          <img\n            src=\"../../img/double-arrow-right.svg\"\n            width=\"35\"\n          />\n        </button>\n        <button\n          @click.stop=\"changeDirection\"\n          v-if=\"direction!=='FORWARD'\"\n          class=\"image-button\"\n          title=\"Direction\"\n        >\n          <img\n            src=\"../../img/double-arrow-left.svg\"\n            width=\"35\"\n          />\n        </button>\n      </div>\n      <div class=\"setpoint1\">\n        <input\n          @click.stop\n          class=\"setpoint-input\"\n          v-model.number=\"setpoint\"\n          placeholder=\"Setpoint\"\n          type=\"number\"\n          id=\"inputName\"\n          min=\"0\"\n          max=\"100\"\n        />\n        <button @click.stop=\"setSetPoint\">Set</button>\n      </div>\n      <div class=\"speedo2\">\n\n        <speedometer\n          :maxValue=\"100\"\n          :value=\"speed\"\n        ></speedometer>\n      </div>\n\n      <div class=\"direction2\">\n        <button\n          @click.stop=\"changeDirection\"\n          v-if=\"direction!=='FORWARD'\"\n          class=\"image-button\"\n          title=\"Direction\"\n        >\n          <img\n            src=\"../../img/double-arrow-right.svg\"\n            width=\"35\"\n          />\n        </button>\n        <button\n          @click.stop=\"changeDirection\"\n          v-if=\"direction==='FORWARD'\"\n          class=\"image-button\"\n          title=\"Direction\"\n        >\n          <img\n            src=\"../../img/double-arrow-left.svg\"\n            width=\"35\"\n          />\n        </button>\n      </div>\n      <div class=\"setpoint2\">\n        <input\n          @click.stop\n          class=\"setpoint-input\"\n          v-model.number=\"setpoint\"\n          placeholder=\"Setpoint\"\n          type=\"number\"\n          id=\"inputName\"\n          min=\"0\"\n          max=\"100\"\n        />\n        <button @click.stop=\"setSetPoint\">Set</button>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<style scoped>\n.wrapper {\n  display: grid;\n  grid-template-columns: 350px 150px;\n  grid-template-rows: 100px 100px 100px 100px;\n}\n.container {\n  display: inline-flex;\n  align-items: center;\n  margin-bottom: 5px;\n}\n.container > * {\n  margin-right: 5px;\n}\n\n.sensor {\n  vertical-align: middle;\n}\n.setpoint-input {\n  width: 100px;\n}\n.speedo1 {\n  grid-column: 1;\n  grid-row: 1/3;\n}\n.speedo2 {\n  grid-column: 1;\n  grid-row: 3/5;\n}\n.direction1 {\n  grid-column: 2;\n  margin: auto;\n}\n.direction2 {\n  grid-column: 2;\n  grid-row: 3;\n  margin: auto;\n}\n.setpoint1 {\n  grid-column: 2;\n  grid-row: 2;\n  text-align: center;\n}\n.setpoint2 {\n  grid-column: 2;\n  grid-row: 4;\n  text-align: center;\n}\n</style>\n\n<script>\nconst manager = require(\"../opcua-manager\");\nimport { dialogParameter } from \"../main\";\n\nexport default {\n  data: function() {\n    return {\n      speed: null,\n      unit: null,\n      state: null,\n      status: null,\n      setpoint: null,\n      direction: null,\n      sensorBlocked: false,\n      sensorColor: false,\n      conv: null,\n      manager: manager\n    };\n  },\n  components: {\n    speedometer: require(\"./Speedometer\").default\n  },\n  props: [\"param\"],\n  methods: {\n    setSetPoint: function(event) {\n      this.manager.write(this.conv, \"setpoint\", this.setpoint);\n    },\n    startStop: function(event) {\n      this.manager.call(this.conv, \"start_stop\");\n    },\n    changeDirection: function(event) {\n      this.manager.call(this.conv, \"fwd_rev\");\n    }\n  },\n  mounted() {\n    if (this.param) this.conv = this.param;\n    else this.conv = dialogParameter.conv;\n    console.log(\"conv:\", this.conv);\n    this.manager.subscribe(`${this.conv}._status`, this, function(\n      context,\n      value\n    ) {\n      context.status = value;\n    });\n    this.manager.subscribe(`${this.conv}.state`, this, function(\n      context,\n      value\n    ) {\n      context.state = value;\n    });\n    // this.manager.subscribe(`${this.conv}.setpoint`, this, function(\n    //   context,\n    //   value\n    // ) {\n    //   context.setpoint = value;\n    // });\n    this.manager.subscribe(`${this.conv}.unit`, this, function(context, value) {\n      context.unit = value;\n    });\n    this.manager.subscribe(`${this.conv}.speed`, this, function(\n      context,\n      value\n    ) {\n      context.speed = value;\n    });\n    this.manager.subscribe(`${this.conv}.direction`, this, function(\n      context,\n      value\n    ) {\n      context.direction = value;\n    });\n  }\n};\n</script>"]}]}